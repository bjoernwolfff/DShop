<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deals</title>
    <link rel="stylesheet" href="items.css">
    <style>
      /* Reset und Body */
      body {
        padding: 0;
        margin: 0;
        background-color: #333;
        color: #fff;
        font-family: Arial, sans-serif;
        padding-bottom: 120px; /* Mehr Platz für höhere Navbar */
      }

      /* Allgemeine List-Styles */
      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      /* UNTERE NAVIGATION (main-nav) - HÖHER POSITIONIERT */
      nav.main-nav {
        position: fixed;
        bottom: 0px;
        left: 0;
        width: 100%;
        height: 60px;
        background-color: #333;
        color: white;
        display: flex;
        align-items: center;
        justify-content: space-around;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
        z-index: 1000;
      }

      nav.main-nav ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 0 30px;
        height: 100%;
      }

      nav.main-nav li {
        height: 100%;
        display: flex;
        align-items: center;
        font-size: 1.2em;
      }

      nav.main-nav a {
        color: white;
        text-decoration: none;
        padding: 15px 20px;
        display: flex;
        align-items: center;
        height: 100%;
        transition: background-color 0.3s;
      }

      nav.main-nav a:hover {
        background-color: #444;
      }

      /* Styling für das aktive/gewählte Element */
      nav.main-nav li.choosed {
        background-color: #555;
        border-radius: 12px;
        margin: 8px 4px;
      }

      nav.main-nav li.choosed a {
        font-weight: bold;
        border-radius: 12px;
      }

      /* Content Bereiche */
      .main-content {
        padding: 20px;
        min-height: calc(100vh - 140px);
      }

      .deals-container {
        background-color: #444;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
      }

      .deal-item {
        background-color: #555;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
        border-left: 4px solid #ffffff;
      }

      .deal-title {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 8px;
      }

      .deal-price {
        color: #4CAF50;
        font-size: 1.1em;
        font-weight: bold;
      }

      .deal-original-price {
        text-decoration: line-through;
        color: #999;
        margin-left: 10px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        nav.main-nav ul {
          padding: 0 15px;
        }
        
        nav.main-nav li {
          font-size: 1em;
        }
        
        nav.main-nav a {
          padding: 12px 15px;
        }
      }
      .create-button {
        background-color: #555 !important;
        padding: 15px;
        margin: 15px 0;
        border: 4px solid #fff;
        width: 100%;
        color: #fff;
        cursor: pointer;
        font-size: 1em;
        border-radius: 6px;
      }

      .create-button:hover {
        background-color: #666 !important;
      }

      /* Form Styles */
      .deal-form {
        background-color: #555;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
        border-left: 4px solid #ffffff;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: 10px;
        background-color: #444;
        border: 1px solid #666;
        border-radius: 4px;
        color: #fff;
        font-size: 1em;
        box-sizing: border-box;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: #4CAF50;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 80px;
      }

      .price-group {
        display: flex;
        gap: 10px;
      }

      .price-group .form-group {
        flex: 1;
        margin-bottom: 0;
      }

      .image-upload {
        border: 2px dashed #666;
        padding: 20px;
        text-align: center;
        border-radius: 4px;
        cursor: pointer;
        transition: border-color 0.3s;
      }

      .image-upload:hover {
        border-color: #4CAF50;
      }

      .image-upload.dragover {
        border-color: #4CAF50;
        background-color: #3a3a3a;
      }

      .image-preview {
        margin-top: 10px;
        max-width: 200px;
        max-height: 200px;
        border-radius: 4px;
      }

      .hidden {
        display: none;
      }

      .deal-image {
        max-width: 150px;
        max-height: 150px;
        border-radius: 4px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <!-- Untere Navigation - höher positioniert -->
    <nav class="main-nav">
      <ul>
        <li><a href="index.html">shop</a></li>
        <li class="choosed"><a href="deals.html">deals</a></li>
        <li><a href="acc.html">account</a></li>
      </ul>
    </nav>
    
    <!-- Hauptinhalt -->
    <div class="main-content">
      <div class="deals-container">
        <h1>Current Deals</h1>
        <p>Here are your Deals!</p>
        
        <div class="weapon-item">
          <div class="deal-title">Special Offer #1</div>
          <div class="deal-price">
            $99.99 
            <span class="deal-original-price">$149.99</span>
          </div>
          <p>Limited time offer - save 33%!</p>
        </div>
        
        <div class="drug-item">
          <div class="deal-title">Bundle Deal</div>
          <div class="deal-price">
            $199.99 
            <span class="deal-original-price">$299.99</span>
          </div>
          <p>Get the complete package at a discounted price.</p>
        </div>
        
        <div class="software-item">
          <div class="deal-title">Flash Sale</div>
          <div class="deal-price">
            $49.99 
            <span class="deal-original-price">$79.99</span>
          </div>
          <p>Hurry! Only available for 24 hours.</p>
        </div>
        
        <div class="money-item">
          <div class="deal-title">Flash Sale</div>
          <div class="deal-price">
            $49.99 
            <span class="deal-original-price">$79.99</span>
          </div>
          <p>Hurry! Only available for 24 hours.</p>
        </div>

        <!-- Dynamisch erstellte Deals werden hier eingefügt -->
        <div id="dynamic-deals"></div>
      </div>

      <div class="deals-container">
        <h1>Create Deal</h1>
        
        <!-- Deal Creation Form -->
        <div class="deal-form" id="deal-form" style="display: none;">
          <form id="create-deal-form">
            <div class="form-group">
              <label for="deal-name">Deal Title:</label>
              <input type="text" id="deal-name" name="deal-name" required>
            </div>

            <div class="form-group">
              <label for="deal-price">Price ($):</label>
              <input type="number" id="deal-price" name="deal-price" step="0.01" min="0" required>
            </div>

            <div class="form-group">
              <label for="deal-description">Description:</label>
              <textarea id="deal-description" name="deal-description" placeholder="Enter deal description..."></textarea>
            </div>

            <div class="form-group">
              <label for="deal-category">Category:</label>
              <select id="deal-category" name="deal-category">
                <option value="weapon-item">Weapon</option>
                <option value="drug-item">Drug</option>
                <option value="software-item">Software</option>
                <option value="money-item">Money</option>
              </select>
            </div>

            <div class="form-group">
              <label>Deal Image:</label>
              <div class="image-upload" id="image-upload">
                <p>Click here or drag & drop an image</p>
                <input type="file" id="image-input" accept="image/*" class="hidden">
                <img id="image-preview" class="image-preview hidden" alt="Preview">
              </div>
            </div>

            <button type="submit" class="create-button">Add Deal</button>
          </form>
        </div>

        <button id="toggle-form" class="create-button">Create New Deal</button>
      </div>
    </div>

    <script>
      // Form toggle functionality
      const toggleBtn = document.getElementById('toggle-form');
      const dealForm = document.getElementById('deal-form');
      
      toggleBtn.addEventListener('click', function() {
        if (dealForm.style.display === 'none') {
          dealForm.style.display = 'block';
          toggleBtn.textContent = 'Cancel';
        } else {
          dealForm.style.display = 'none';
          toggleBtn.textContent = 'Create New Deal';
          document.getElementById('create-deal-form').reset();
          document.getElementById('image-preview').classList.add('hidden');
        }
      });

      // Image upload functionality
      const imageUpload = document.getElementById('image-upload');
      const imageInput = document.getElementById('image-input');
      const imagePreview = document.getElementById('image-preview');

      imageUpload.addEventListener('click', () => {
        imageInput.click();
      });

      imageInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
            imagePreview.src = e.target.result;
            imagePreview.classList.remove('hidden');
          };
          reader.readAsDataURL(file);
        }
      });

      // Drag and drop functionality
      imageUpload.addEventListener('dragover', function(e) {
        e.preventDefault();
        imageUpload.classList.add('dragover');
      });

      imageUpload.addEventListener('dragleave', function(e) {
        e.preventDefault();
        imageUpload.classList.remove('dragover');
      });

      imageUpload.addEventListener('drop', function(e) {
        e.preventDefault();
        imageUpload.classList.remove('dragover');
        
        const files = e.dataTransfer.files;
        if (files.length > 0 && files[0].type.startsWith('image/')) {
          const file = files[0];
          imageInput.files = files;
          
          const reader = new FileReader();
          reader.onload = function(e) {
            imagePreview.src = e.target.result;
            imagePreview.classList.remove('hidden');
          };
          reader.readAsDataURL(file);
        }
      });

      // Form submission
      document.getElementById('create-deal-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const dealName = formData.get('deal-name');
        const dealPrice = formData.get('deal-price');
        const dealDescription = formData.get('deal-description');
        const dealCategory = formData.get('deal-category');
        const imageFile = imageInput.files[0];
        
        // Create deal element
        const dealElement = document.createElement('div');
        dealElement.className = dealCategory;
        
        // Create image HTML if image exists
        let imageHtml = '';
        if (imageFile && imagePreview.src) {
          imageHtml = `<img src="${imagePreview.src}" class="deal-image" alt="${dealName}">`;
        }
        
        dealElement.innerHTML = `
          <div class="deal-title">${dealName}</div>
          <div class="deal-price">
            $${parseFloat(dealPrice).toFixed(2)}
          </div>
          ${imageHtml}
          <p>${dealDescription}</p>
        `;
        
        // Add to deals container
        document.getElementById('dynamic-deals').appendChild(dealElement);
        
        // Reset form and hide it
        this.reset();
        imagePreview.classList.add('hidden');
        dealForm.style.display = 'none';
        toggleBtn.textContent = 'Create New Deal';
        
        // Success message (optional)
        alert('Deal created successfully!');
      });
    </script>
  </body>
</html>
